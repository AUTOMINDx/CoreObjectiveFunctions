I asked for a promotion, and boss got defensive/critical, then demoted me. He tried to spin my demotion as positive thing?
I thought my boss and I had a good relationship. I've been working for him for 3 years, but I have not received a substantial raise, and no promotion. The team has grown from 2 (just me and him) to 12. I have gotten positive employee reviews every year. He often asks me about my personal life, and I thought we were friends.

I've trained new people, ran meetings with the biggest, key clients, created processes for the department, etc. When I approached the raise, I was surprised at how he took it personally, as if it was a critique on his management that I wasn't satisfied with my salary/title. I outlined my work, my wins - and he said, what does this have to do with anything? I said I'm outlining all the things I have worked on to justify the raise I want. I gave him data around people who do a job similar to me, and their titles, and the appropriate salary.  

He accused me of not being a team player - that it was not about recognition for me, it was about the team. I was really confused, and quite honestly, hurt by being labeled not a "team player". Up until this point, we had what I thought a positive relationship.

 I truly do not believe the team player comment was warranted as I've trained everyone the team, and have lifted up the team. It felt like he took it as an insult that I asked for a raise/promotion, and I cannot make sense of it. 

A couple weeks later, my boss got back to me and said he had great news for me. He told me I would then be reporting one of my peers, and this would help me gain the "visibility" that I wanted. He said basically that it would expose me to another subject area in the department so I could grow my career, but that is not true. I am assigned very junior-level tasks...basically tasks you would ask an intern to do. These are time consuming, tedious, but do not require a high level of skill. All the while, I continue doing my existing job. So basically, now I'm doing two jobs with the same pay. Clearly I'm being pushed out. 

Anyway - I'm trying to find the words for what happened to me, and make some sense of this situation. In the meantime, I'm looking for a new job asap. 

tl;dr Boss demoted me after I asked for a promotion. Help me try to understand this.